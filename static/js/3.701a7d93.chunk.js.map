{"version":3,"file":"static/js/3.701a7d93.chunk.js","mappings":"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","sources":["components/ui/card.jsx","components/ui/label.jsx","components/ui/separator.jsx","components/ui/textarea.jsx","components/ui/checkbox.jsx","components/CodeMirrorField.js","features/pretty-formatter/PrettyFormatter.js","pages/PrettyFormatXML.js","utils/format.js","utils/decode.js"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"src/lib/utils\"\n\nconst Card = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-lg border bg-card text-card-foreground shadow-sm\", className)}\n    {...props} />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props} />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props} />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"src/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"src/lib/utils\"\n\nconst Separator = React.forwardRef((\n  { className, orientation = \"horizontal\", decorative = true, ...props },\n  ref\n) => (\n  <SeparatorPrimitive.Root\n    ref={ref}\n    decorative={decorative}\n    orientation={orientation}\n    className={cn(\n      \"shrink-0 bg-border\",\n      orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n      className\n    )}\n    {...props} />\n))\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","import * as React from \"react\"\n\nimport { cn } from \"src/lib/utils\"\n\nconst Textarea = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-input px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props} />\n  );\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"src/lib/utils\"\n\nconst Checkbox = React.forwardRef(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}>\n    <CheckboxPrimitive.Indicator className={cn(\"flex items-center justify-center text-current\")}>\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","import React from \"react\";\nimport CodeMirror from \"@uiw/react-codemirror\";\nimport { json } from \"@codemirror/lang-json\";\nimport { xml } from \"@codemirror/lang-xml\";\nimport { EditorView } from \"@codemirror/view\";\nimport { searchKeymap, highlightSelectionMatches } from \"@codemirror/search\";\nimport { keymap } from \"@codemirror/view\";\n\nfunction CodeMirrorField({ string, inputType }) {\n  \n\n  return (\n    <div className=\"rounded-md w-full h-full overflow-auto\">\n      <div className=\"text-sm rounded-lg break-words whitespace-pre-wrap h-full\">\n        <CodeMirror\n          value={string}\n          height=\"100%\"\n          width=\"100%\"\n          readOnly={true}\n          theme=\"dark\"\n          extensions={[\n            inputType && inputType.toUpperCase() === \"JSON\" ? json() : xml(),\n            EditorView.lineWrapping,\n            highlightSelectionMatches(),\n            keymap.of(searchKeymap),\n          ]}\n          style={{ backgroundColor: 'var(--input)' }} // Use the input color variable\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default CodeMirrorField;","import { useState, useContext } from \"react\";\nimport { format } from \"../../utils/format\";\nimport { Button } from \"../../components/ui/button\";\nimport { Textarea } from \"../../components/ui/textarea\";\nimport { Label } from \"../../components/ui/label\";\nimport { Checkbox } from \"../../components/ui/checkbox\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"../../components/ui/card\";\nimport { Separator } from \"../../components/ui/separator\";\nimport CodeMirrorField from \"../../components/CodeMirrorField\";\nimport { Copy, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { IOContext } from \"../../context/IOContext\";\n\nfunction PrettyFormatter({ pageIndex, title, formatter }) {\n  const { data, updateInput, updateOutput, updateCheckbox } = useContext(IOContext);\n  const { input, output, checkbox } = data[pageIndex];\n  const [isLoading, setIsLoading] = useState(false);\n  const [isOutputVisible, setIsOutputVisible] = useState(true);\n  const [error, setError] = useState(null);\n\n  const withLoadingAndErrorHandling = (fn) => async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      await fn();\n    } catch (e) {\n      setError(e.message);\n      updateOutput(pageIndex, \"\");\n    }\n    setIsLoading(false);\n  };\n\n  const handleFormat = withLoadingAndErrorHandling(() => {\n    const formatted = format(formatter, input, checkbox);\n    updateOutput(pageIndex, formatted);\n  });\n\n  const handleClear = () => {\n    updateInput(pageIndex, \"\");\n    updateOutput(pageIndex, \"\");\n    setError(null); // Clear error on clear\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        updateInput(pageIndex, e.target.result);\n        setError(null); // Clear error on new file input\n      };\n      reader.readAsText(file);\n    }\n  };\n\n  const handleCopy = () => {\n    navigator.clipboard.writeText(output);\n  };\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle>{title}</CardTitle>\n        <CardDescription>Format {formatter.toUpperCase()} data to be more readable</CardDescription>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"input\">Input</Label>\n          <Textarea\n            id=\"input\"\n            value={input}\n            onChange={(e) => {\n              updateInput(pageIndex, e.target.value);\n              setError(null); // Clear error on input change\n            }}\n            placeholder={`Enter ${formatter.toUpperCase()} or drop a file`}\n            className=\"h-50\"\n          />\n          <div className=\"flex items-center justify-between\">\n            <input type=\"file\" onChange={handleFileChange} className=\"text-sm\" />\n            <Button onClick={handleClear} variant=\"ghost\">\n              Clear\n            </Button>\n          </div>\n          {pageIndex.toLowerCase() === \"xml\" && (\n            <div className=\"flex items-center space-x-2 pt-2\">\n              <Checkbox\n                id=\"checkbox\"\n                checked={checkbox}\n                onCheckedChange={(checked) => updateCheckbox(pageIndex, checked)}\n              />\n              <Label htmlFor=\"checkbox\" className=\"text-sm\">\n                Decode OrgMsg\n              </Label>\n            </div>\n          )}\n        </div>\n        <Separator />\n        <div className=\"flex justify-center\">\n          <Button onClick={handleFormat} disabled={isLoading}>\n            {isLoading ? \"Formatting...\" : \"Format\"}\n          </Button>\n        </div>\n        <div className=\"space-y-2\">\n          <div className=\"flex justify-between items-center\">\n            <Label htmlFor=\"output\">Output</Label>\n            <div>\n              <Button onClick={handleCopy} variant=\"ghost\" size=\"icon\">\n                <Copy className=\"h-4 w-4\" />\n              </Button>\n              <Button\n                onClick={() => setIsOutputVisible(!isOutputVisible)}\n                variant=\"ghost\"\n                size=\"icon\"\n              >\n                {isOutputVisible ? (\n                  <ChevronUp className=\"h-4 w-4\" />\n                ) : (\n                  <ChevronDown className=\"h-4 w-4\" />\n                )}\n              </Button>\n            </div>\n          </div>\n          {error && <p className=\"text-red-500 text-sm\">Error: {error}</p>}\n          {isOutputVisible && (\n            <div className=\"h-96\">\n              <CodeMirrorField string={output} inputType={formatter} />\n            </div>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default PrettyFormatter;","import React from \"react\";\nimport PrettyFormatter from \"../features/pretty-formatter/PrettyFormatter\";\n\nfunction PrettyFormatXML() {\n  return (\n    <PrettyFormatter\n      pageIndex=\"xml\"\n      title=\"Pretty Format XML\"\n      formatter=\"xml\"\n    />\n  );\n}\n\nexport default PrettyFormatXML;","import { base64ToUtf8 } from \"./decode\";\nimport beautify from \"js-beautify\";\n\nconst formatXML = (xmlString, decodeOriginalMessage) => {\n  // Basic XML validation\n  try {\n    const parser = new DOMParser();\n    const xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\n    if (xmlDoc.getElementsByTagName(\"parsererror\").length > 0) {\n      throw new Error(\"Invalid XML syntax\");\n    }\n  } catch (e) {\n    throw new Error(\"Invalid XML syntax: \" + e.message);\n  }\n\n  const PADDING = \"  \";\n  const reg = /(>)(<)(\\/\\*)/g;\n  let xml = xmlString.replace(reg, \"$1\\n$2$3\");\n\n  if (decodeOriginalMessage) {\n    xml = xml.replace(\n      /<([^>]*OrgMsg[^>]*)>([^<]+)<\\/\\1>/g,\n      (match, tagName, base64Content) => {\n        try {\n          const decoded = base64ToUtf8(base64Content);\n          const formattedDecoded = formatXML(decoded, decodeOriginalMessage); // recursive formatting\n          return `<${tagName}>\n${formattedDecoded}\n</${tagName}>`;\n        } catch (e) {\n          console.warn(\"Failed to decode base64 content:\", e);\n          return match;\n        }\n      }\n    );\n  }\n\n  let formatted = \"\";\n  let pad = 0;\n\n  xml.split(\"\\n\").forEach((node) => {\n    let indent = 0;\n    if (node.match(/.+<\\/\\w[^>]*>$/)) {\n      indent = 0;\n    } else if (node.match(/^<\\/\\w/)) {\n      if (pad !== 0) pad -= 1;\n    } else if (node.match(/^<\\w[^>]*[^/]>.*$/)) {\n      indent = 1;\n    } else {\n      indent = 0;\n    }\n\n    formatted += PADDING.repeat(pad) + node + \"\\n\";\n    pad += indent;\n  });\n\n  return formatted;\n};\n\nconst formatJSON = (jsonString) => {\n  // This will throw an error if the JSON is invalid\n  return beautify.js(JSON.stringify(JSON.parse(jsonString)), { indent_size: 2 });\n};\n\nexport const format = (formatter, string, checkbox) => {\n  switch (formatter.toLowerCase()) {\n    case \"xml\":\n      return formatXML(string, checkbox);\n    case \"json\":\n      return formatJSON(string);\n    default:\n      return string;\n  }\n};\n\nexport const toOneLine = (inputString) => {\n  return inputString.replace(/\\s+/g, \" \").trim();\n};\n\n","\nexport const base64ToUtf8 = (base64) => {\n    const binaryString = atob(base64);\n    const bytes = new Uint8Array(binaryString.length);\n    for (let i = 0; i < binaryString.length; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    const decodedString = new TextDecoder(\"utf-8\").decode(bytes);\n    return decodedString;\n  };\n"],"names":["Card","React","_ref","ref","className","props","_objectWithoutProperties","_excluded","_jsx","_objectSpread","cn","displayName","CardHeader","_ref2","_excluded2","CardTitle","_ref3","_excluded3","CardDescription","_ref4","_excluded4","CardContent","_ref5","_excluded5","CardFooter","_ref6","_excluded6","labelVariants","cva","Label","LabelPrimitive","Separator","orientation","decorative","SeparatorPrimitive","Textarea","Checkbox","CheckboxPrimitive","children","Check","string","inputType","CodeMirror","value","height","width","readOnly","theme","extensions","toUpperCase","json","xml","EditorView","lineWrapping","highlightSelectionMatches","keymap","of","searchKeymap","style","backgroundColor","pageIndex","title","formatter","data","updateInput","updateOutput","updateCheckbox","useContext","IOContext","input","output","checkbox","isLoading","setIsLoading","useState","isOutputVisible","setIsOutputVisible","error","setError","handleFormat","fn","formatted","format","async","e","message","_jsxs","htmlFor","id","onChange","target","placeholder","concat","type","file","files","reader","FileReader","onload","result","readAsText","Button","onClick","handleClear","variant","toLowerCase","checked","onCheckedChange","disabled","handleCopy","navigator","clipboard","writeText","size","Copy","ChevronUp","ChevronDown","CodeMirrorField","PrettyFormatter","formatXML","xmlString","decodeOriginalMessage","parser","DOMParser","parseFromString","getElementsByTagName","length","Error","replace","match","tagName","base64Content","decoded","base64","binaryString","atob","bytes","Uint8Array","i","charCodeAt","TextDecoder","decode","base64ToUtf8","formattedDecoded","console","warn","pad","split","forEach","node","indent","repeat","jsonString","beautify","JSON","stringify","parse","indent_size","toOneLine","inputString","trim"],"sourceRoot":""}